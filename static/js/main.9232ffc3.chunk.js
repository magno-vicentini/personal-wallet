(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{30:function(e,t,a){},34:function(e,t,a){e.exports=a(48)},39:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),l=a(17),s=(a(39),a(11)),o=a(14),u=a(32),d=a(33),m=a(8);var p={email:""};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(m.a)(Object(m.a)({},e),{},{email:t.email});default:return e}},b=a(15),E=a(20),v={currencies:[],expenses:[],allCurrencies:[]};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_API":return Object(m.a)(Object(m.a)({},e),{},{currencies:Object(E.a)(Object.keys(t.data)).filter((function(e){return"USDT"!==e})),allCurrencies:Object(E.a)(Object.entries(t.data)).reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},t[0],t[1]))}),[])});case"ADD_EXPENSIS":return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(E.a)(e.expenses),[t.objAdd])});case"DELETE_EXPENSE":return Object(m.a)(Object(m.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.objDel.id}))});case"EDIT_EXPENSE":return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(E.a)(e.expenses.filter((function(e){return e.id!==t.objEdit.id}))),[t.objEdit]).sort((function(e,t){return e.id-t.id}))});default:return e}},j=Object(o.combineReducers)({user:h,wallet:f}),O=Object(o.createStore)(j,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),g=a(2),y=a(3),x=a(5),C=a(4),N=a(6),k=a(13),w=(a(44),function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).state={email:"",password:""},e.handleChange=e.handleChange.bind(Object(k.a)(e)),e.validation=e.validation.bind(Object(k.a)(e)),e}return Object(y.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"validation",value:function(){var e=this.state,t=e.email,a=e.password;return!(/\S+@\S+\.+com/.test(t)&&a.length>5)}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=this.props.loginEmail;return r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",null,"Personal Wallet"),r.a.createElement("p",null,"Sing Up"),r.a.createElement("div",{className:"card-input"},r.a.createElement("p",null,"Email: "),r.a.createElement("input",{type:"email",name:"email","data-testid":"email-input",value:t,onChange:this.handleChange,placeholder:"example@example.com"})),r.a.createElement("div",{className:"card-input"},r.a.createElement("p",null,"Password:"),r.a.createElement("input",{type:"password",name:"password","data-testid":"password-input",value:a,onChange:this.handleChange}),r.a.createElement(l.b,{to:"/carteira"},r.a.createElement("button",{type:"submit",className:this.validation()?"button-disable":"button-enable",disabled:this.validation(),onClick:function(){return n(t)}},"Entrar"))))}}]),a}(r.a.Component)),I=Object(s.b)(null,(function(e){return{loginEmail:function(t){return e(function(e){return{type:"LOGIN_USER",email:e}}(t))}}}))(w),S=a(19),D=a.n(S),R=a(27),T=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).sumTotalField=n.sumTotalField.bind(Object(k.a)(n)),n}return Object(y.a)(a,[{key:"sumTotalField",value:function(){var e=this.props.allExpenses;return(void 0===e?0:e).reduce((function(e,t){return e+Number(t.value)*t.exchangeRates[t.currency].ask}),0)}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",{className:"header-container"},r.a.createElement("div",{className:"field-container"},r.a.createElement("p",null,"Despesa Total:"),r.a.createElement("div",{"data-testid":"total-field"},"R$ ".concat(this.sumTotalField()," ")),r.a.createElement("div",{"data-testid":"header-currency-field"},"BRL")),r.a.createElement("div",{"data-testid":"email-field",className:"user"},e))}}]),a}(n.Component),F=Object(s.b)((function(e){return{email:e.user.email,allExpenses:e.wallet.expenses}}))(T),P=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.allCoins,a=e.changeInput;return r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{name:"currency",id:"currency","data-testid":"currency-input",onChange:a},t.map((function(e){return r.a.createElement("option",{key:e,"data-testid":e,value:e},e)}))))}}]),a}(n.Component),_=Object(s.b)((function(e){return{email:e.user.email,allCoins:e.wallet.currencies}}))(P),A=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.changeInput;return r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{name:"method",id:"method",onChange:e,"data-testid":"method-input"},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito")))}}]),a}(n.Component),M=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={expenditure:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"]},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.state.expenditure,t=this.props.changeInput;return r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{name:"tag",id:"tag","data-testid":"tag-input",onChange:t},e.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}}]),a}(n.Component),U=(a(30),function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("thead",null,r.a.createElement("tr",{className:"thead-expenses"},r.a.createElement("th",{className:"column-thead"},"Descri\xe7\xe3o"),r.a.createElement("th",{className:"column-thead"},"Tag"),r.a.createElement("th",{className:"column-thead"},"M\xe9todo de pagamento"),r.a.createElement("th",{className:"column-thead"},"Valor"),r.a.createElement("th",{className:"column-thead"},"Moeda"),r.a.createElement("th",{className:"column-thead"},"C\xe2mbio utilizado"),r.a.createElement("th",{className:"column-thead"},"Valor convertido"),r.a.createElement("th",{className:"column-thead"},"Moeda de convers\xe3o"),r.a.createElement("th",{className:"column-thead"},"Editar/Excluir")))}}]),a}(n.Component)),L=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.allExpenses,a=e.deleteItem,n=e.expenseEditing;return r.a.createElement("table",{className:"column-table"},r.a.createElement(U,null),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id,className:"row-expense"},r.a.createElement("td",{className:"cell-tbody"},e.description),r.a.createElement("td",{className:"cell-tbody"},e.tag),r.a.createElement("td",{className:"cell-tbody"},e.method),r.a.createElement("td",{className:"cell-tbody"},e.value),r.a.createElement("td",{className:"cell-tbody"},e.exchangeRates[e.currency].name.split("/")[0]),r.a.createElement("td",{className:"cell-tbody"},Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",{className:"cell-tbody"},(e.value*Number(e.exchangeRates[e.currency].ask)).toFixed(2)),r.a.createElement("td",{className:"cell-tbody"},"Real"),r.a.createElement("td",{className:"cell-tbody"},r.a.createElement("button",{type:"button","data-testid":"edit-btn",onClick:function(){return n(e)}},"Editar"),r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(){return a(e)}},"Excluir")))}))))}}]),a}(n.Component),X=Object(s.b)((function(e){return{allExpenses:e.wallet.expenses}}),(function(e){return{deleteItem:function(t){return e(function(e){return{type:"DELETE_EXPENSE",objDel:e}}(t))}}}))(L),W=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.changeInput,a=e.value;return r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{type:"text",name:"value",value:a,"data-testid":"value-input",onChange:t}))}}]),a}(n.Component),B=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.changeInput,a=e.desc;return r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text",name:"description",value:a,"data-testid":"description-input",onChange:t}))}}]),a}(n.Component),V=function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={id:0,value:"0",currency:"USD",description:"",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",isEditing:!1,prevId:0},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.submitExpensis=n.submitExpensis.bind(Object(k.a)(n)),n.expenseEditing=n.expenseEditing.bind(Object(k.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.fetchCurr,e.next=3,t();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"submitExpensis",value:function(){var e=Object(R.a)(D.a.mark((function e(){var t,a,n,r,c,i,l,s,o,u,d,m,p,h,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.fetchCurr,n=t.allCoins,r=t.addExpense,c=t.editExp,i=this.state,l=i.id,s=i.value,o=i.description,u=i.exchangeRates,d=i.currency,m=i.method,p=i.tag,h=i.isEditing,b=i.prevId,!h){e.next=5;break}return c({id:l,value:s,description:o,currency:d,method:m,tag:p,exchangeRates:u}),e.abrupt("return",this.setState({id:b,value:"",description:"",isEditing:!1}));case 5:return e.next=7,a();case 7:return r({id:l,value:s,description:o,currency:d,method:m,tag:p,exchangeRates:n}),e.abrupt("return",this.setState({id:l+1,value:"",description:""}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"expenseEditing",value:function(e){var t=e.currency,a=e.description,n=e.value,r=e.method,c=e.tag,i=e.exchangeRates,l=this.state.id;this.setState({isEditing:!0,id:e.id,value:n,description:a,currency:t,method:r,tag:c,exchangeRates:i,prevId:l})}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.isEditing;return r.a.createElement("div",{className:"wallet-page"},r.a.createElement(F,null),r.a.createElement("form",{action:"",className:"form-expenses"},r.a.createElement(W,{changeInput:this.handleChange,value:t}),r.a.createElement(B,{changeInput:this.handleChange,desc:a}),r.a.createElement(_,{changeInput:this.handleChange}),r.a.createElement(A,{changeInput:this.handleChange}),r.a.createElement(M,{changeInput:this.handleChange}),n?r.a.createElement("button",{type:"button",className:"button-send",onClick:this.submitExpensis},"Editar despesa"):r.a.createElement("button",{type:"button",className:"button-send",onClick:this.submitExpensis},"Adicionar despesa")),r.a.createElement(X,{expenseEditing:this.expenseEditing}))}}]),a}(r.a.Component);V.defaultProps={allCoins:void 0};var z=Object(s.b)((function(e){return{email:e,allCoins:e.wallet.allCurrencies}}),(function(e){return{fetchCurr:function(){return e((function(e){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"REQUEST_API",data:e}}(t))}))}))},addExpense:function(t){return e(function(e){return{type:"ADD_EXPENSIS",objAdd:e}}(t))},editExp:function(t){return e(function(e){return{type:"EDIT_EXPENSE",objEdit:e}}(t))}}}))(V),G=(a(47),function(e){Object(x.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:I}),r.a.createElement(N.a,{path:"/carteira"},r.a.createElement(z,null)))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,null,r.a.createElement(s.a,{store:O},r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.9232ffc3.chunk.js.map